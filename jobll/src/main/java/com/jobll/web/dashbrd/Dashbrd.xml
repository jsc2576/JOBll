<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jobll.web.dashbrd">

	<select id="findCuntPrjtIdx" parameterType="com.jobll.web.dashbrd.Dashbrd" resultType="hashmap">
		SELECT "PRJT_IDX"
		FROM "HSTY_INFO"
		WHERE "USR_ID" = #{usr_id}
		LIMIT 10 
	</select>

	<select id="findCuntPrjtSbjt" parameterType="java.util.List" resultType="java.util.List">
		SELECT "PRJT_SBJT"
		FROM "PRJT_INFO"
		<foreach collection="prjt_idx_list" item="data" open="(" close=")" separator="or">
			"PRJT_IDX" = #{data.value}
		</foreach>
	</select>
		
	<select id="findCnetPrjtIdx" parameterType="com.jobll.web.dashbrd.Dashbrd" resultType="hashmap">
		SELECT "PRJT_SBJT"	
		FROM "PRJT_INFO"
		WHERE "USR_ID"= #{usr_id} 
	</select>
	
	<select id="findCnetPrjtSbjt" parameterType="java.util.List" resultType="hashmap">
		SELECT "PRJT_SBJT"
		FROM "PRJT_INFO"
		<foreach collection="prjt_idx_list" item="data" open="(" close=")" separator="or">
			"PRJT_IDX" = #{data.value}
		</foreach>
	</select>
	
	<select id ="AtclEndCnt" parameterType="com.jobll.web.dashbrd.Dashbrd" resultType="Integer">
		SELECT count(*) 
		WHERE "PRJT_IDX" = #{prjt_idx} 
		and "USR_ID" = #{usr_id} 
		and "ATCL_PROG_RATE" = 100
	</select>
	
	<select id ="AtclRmnCnt" parameterType="com.jobll.web.dashbrd.Dashbrd" resultType="Integer">
		SELECT count(*) 
		WHERE "PRJT_IDX" = #{prjt_idx}
		and "USR_ID" = #{usr_id}
		and "ATCL_PROG_RATE" = 0
	</select>
	
	<select id ="AtclTotCnt" parameterType="com.jobll.web.dashbrd.Dashbrd" resultType="Integer">
		SELECT count(*) 
		WHERE "PRJT_IDX" = #{prjt_idx} 
		and "USR_ID" = #{usr_id}
	</select>
</mapper>
